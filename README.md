# java-filmorate
Template repository for Filmorate project.

## Промежуточное задание месяца SQL

### [Ссылка на диаграмму](https://dbdiagram.io/d/6453ac26dca9fb07c4814ace)

![Untitled](https://user-images.githubusercontent.com/108272134/236295319-16d0cd32-ebd4-4f1d-84b2-a9161f811198.png)


# Описание схемы

### film:
Содержит информацию о фильмах.
```
Первичный ключ film_id - Идентификатор фильма.
name - Название фильма.
description - Описание фильма.
release_date - Дата релиза фильма.
duration - Продолжительность фильма.
rating_id - Идентификатор рейтинга MPA
```
### user:
Содержит информацию о пользователях.
```
Первичный ключ user_id - Идентификатор пользователя.
email - Электронная почта пользователя.
login - Логин пользователя.
name - Имя пользователя.
birthday - Дата рождения пользователя
```
### likes:
Содержит информацию о лайках фильмам.
```
user_id - Идентификатор пользователя, который поставил лайк.
film_id - Идентификатор фильма которму поставили лайк.
```
### film_genre:
Содержит информацию о жанрах фильма.
```
film_id - Идентификатор фильма.
genre_id - Идентификатор жанра, к которому относится фильм.
```
### genre:
Содержит информацию о жанрах.
```
Первичный ключ genre_id - Идентификатор жара.
name - Название жанра.
```
### rating_MPA:
Содержит информацию о рейтингах, определяющих возрастное ограничение для фильма.
```
Первичный ключ rating_id - Идентификатор рейтинга.
name_MPA - Название рейтинга.
```
### Friendship:
Содержит информацию о пользователях.
```
user_id - Идентификатор пользоватлея, к которому в друзья хочет добавиться друг.
friend_id - Идентификатор друга, который хочет добавиться в друзья.
status - Статус добавления друга.
```


## Примеры запросов для основных операций приложения.


1. Получение фильма по Id.
```
SELECT *
FROM film
WHERE film_id = 1;
```

2. Получение списка фильмов.
```
SELECT *
FROM film;
```

3. Получить 5 новых фильмов.
```
SELECT name,
EXTRACT(YEAR FROM CAST(release_date AS date))
FROM film
ORDER BY release_date DESC
LIMIT 5;
```

4. Получение списка пользователей.
```
SELECT *
FROM user;
```

5. Получение пользователя по id.
```
SELECT *
FROM user
WHERE user_id = 1;
```

6. Добавление нового пользователя в таблицу.
```
INSERT INTO user (email, login, name, birthday)
VALUES ('email', 'login', 'name', 'birthday');
```
